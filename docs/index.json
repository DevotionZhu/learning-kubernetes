[{"authors":null,"categories":null,"content":"Hi，我是 roc，专注云原生技术领域，不定期分享容器、Kubernetes、Service Mesh 等相关干货。\n（欢迎使用 RSS订阅 本站内容更新）\n","date":-62135596800,"expirydate":-62135596800,"kind":"term","lang":"zh","lastmod":-62135596800,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"","publishdate":"0001-01-01T00:00:00Z","relpermalink":"","section":"authors","summary":"Hi，我是 roc，专注云原生技术领域，不定期分享容器、Kubernetes、Service Mesh 等相关干货。\n（欢迎使用 RSS订阅 本站内容更新）","tags":null,"title":"roc","type":"authors"},{"authors":null,"categories":null,"content":"先占位，后续陆续补充笔记\n","date":1612224000,"expirydate":-62135596800,"kind":"section","lang":"zh","lastmod":1612224000,"objectID":"e2ae5d39558e71fe0aebacd371bcafee","permalink":"/learning-kubernetes/kep.html","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/learning-kubernetes/kep.html","section":"kep","summary":"先占位，后续陆续补充笔记","tags":null,"title":"增强特性","type":"book"},{"authors":null,"categories":null,"content":"先占位，后续陆续补充笔记\n","date":-62135596800,"expirydate":-62135596800,"kind":"section","lang":"zh","lastmod":-62135596800,"objectID":"b9e84d1848071c42a33a5ba43e202121","permalink":"/learning-kubernetes/basics.html","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/learning-kubernetes/basics.html","section":"basics","summary":"先占位，后续陆续补充笔记","tags":null,"title":"Kubernetes 基础","type":"book"},{"authors":null,"categories":null,"content":"时间线   2018-05: Joseph Irving 发起 Sidecar Containers 的 KEP\n  2018-11: KEP 被接受。\n  2019-01: 新开 issue #753 来跟进这个特性的进展。\n  2020-10: 经过两年的设计与开发，社区意见出现分歧，最终宣布该 KEP 被废弃，见作者的 评论。\n  2020-11: Tim Hockin 发起新 Proposal 草稿。\n  Sidecar use cases/requirements\n  sidecar: Address all concerns raised\n  case  istio issue: #7136 k8s issue: #65502  istio 场景  pod 启动时，业务容器比 istio-proxy 先 ready。容器化过渡的应用，业务容器启动时需要调用其它服务，如果失败就退出，没有重试逻辑，而当 envoy 启动更慢时，业务容器调用其它服务失败，导致 pod 启动失败，如此循环。规避方法：改造业务，在启动逻辑中加重试逻辑。 pod 销毁时，业务容器和 envoy 同时收到 SIGTERM，envoy 不再处理增量连接，但业务容器在 graceful shutdown 过程中可能需要调用另外的服务（比如通知其它清理进行清理操作)，这时候 envoy 就拒绝掉新的请求，导致调用失败。  参考资料 ","date":1612224000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1612224000,"objectID":"85c7424625272811ee87168d0fe62b8d","permalink":"/learning-kubernetes/kep/sidecar-containers.html","publishdate":"2021-02-02T00:00:00Z","relpermalink":"/learning-kubernetes/kep/sidecar-containers.html","section":"kep","summary":"时间线   2018-05: Joseph Irving 发起 Sidecar Containers 的 KEP\n  2018-11: KEP 被接受。\n  2019-01: 新开 issue #753 来跟进这个特性的进展。\n  2020-10: 经过两年的设计与开发，社区意见出现分歧，最终宣布该 KEP 被废弃，见作者的 评论。","tags":null,"title":"Sidecar Containers","type":"book"}]